{% extends "base_adminlte.html" %}
{% block title %}Role Detail{% endblock %}
{% block content %}
<div class="card card-info card-outline">
  <div class="card-header">
    <h3 class="card-title">Role: {{ role.role_name }}</h3>
  </div>
  <div class="card-body">
    <p>Description: {{ role.description }}</p>

    <h4>Assigned Menus</h4>
    <ul class="list-group mb-3">
      {% for menu in assigned_menus %}
        <li class="list-group-item d-flex justify-content-between align-items-center">
          <span>{{ menu.menu_name }} ({{ menu.menu_url }})</span>
          <a href="{% url 'remove_menu_from_role' role.pk menu.pk %}" class="btn btn-sm btn-danger">Remove</a>
        </li>
      {% empty %}
        <li class="list-group-item">No menus assigned.</li>
      {% endfor %}
    </ul>

    <h5>Add Menu to this Role</h5>
    <form method="post" class="form-inline">
      {% csrf_token %}
      <select name="menu_id" class="form-control mr-2">
        {% for menu in unassigned_menus %}
          <option value="{{ menu.pk }}">{{ menu.menu_name }} - {{ menu.menu_url }}</option>
        {% endfor %}
      </select>
      <button type="submit" class="btn btn-primary">Add</button>
    </form>

    <div class="mt-3">
      <a href="{% url 'role_list' %}" class="btn btn-secondary">Back to Role List</a>
    </div>
  </div>
</div>
{% endblock %}
